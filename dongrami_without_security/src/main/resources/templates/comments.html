<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>프로필 및 활동</title>
    <link rel="stylesheet" th:href="@{/css/comments.css}">
    <link rel="stylesheet" th:href="@{/css/custom.css}">
</head>
<body>
    <div class="container">
        <div class="profile-header">
            <div class="profile-image-container">
                <img id="profile-image" class="profile-image" src="assets/images/basic.png" alt="프로필 이미지" onclick="changeImage()">
                <img id="camera-icon" class="camera-icon" src="assets/images/cameraicon.png" alt="카메라 아이콘" onclick="changeImage()">
            </div>
            <div class="profile-info">
                <h2 id="nickname"></h2>
                <div class="stats">
                    <div id="tarot-count">내가 쓴 글: 1</div>
                </div>
            </div>
        </div>

        <div class="table-actions header-row">
            <button id="delete-all" onclick="deleteSelectedPosts()">
                <img src="assets/images/deleteicon.png" alt="삭제" class="delete-icon">
            </button>
            <span id="selected-count">0/10 선택됨</span>
        </div>

        <table class="table">
            <thead class="colored-header">
                <tr>
                    <th><input type="checkbox" id="select-all-checkbox" onclick="toggleSelectAll()"></th>
                    <th>주제</th>
                    <th>댓글내용</th>
                    <th>등록일</th>
                </tr>
            </thead>
            <tbody id="comment-table-body">
                <tr>
                    <td><input type="checkbox" class="select-post" onclick="toggleDeleteAllButton()"></td>
                    <td>주제 1</td>
                    <td>홍길동의 첫 번째 댓글 내용이 여기에 표시됩니다.</td>
                    <td>
                        <span>2023-06-01</span>
                        <div class="dropdown">
                            <button class="dropdown-button" onclick="toggleDropdown(this)">⋮</button>
                            <div class="dropdown-content">
                                <button class="edit-button" onclick="editComment(0)">수정</button>
                                <button class="delete-button" onclick="confirmDelete(0)">삭제</button>
                            </div>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>

        <div class="pagination" id="pagination">
            <!-- 페이지 버튼이 여기에 동적으로 추가됩니다. -->
        </div>
    </div>

    <!-- 수정 모달 창 -->
    <div id="edit-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2>댓글 수정</h2>
            <form id="edit-form" onsubmit="saveEdit(event)">
                <div class="form-group">
                    <label for="edit-topic">주제</label>
                    <input type="text" id="edit-topic" name="topic" readonly>
                </div>
                <div class="form-group">
                    <label for="edit-comment">댓글수정<span class="required">*</span></label>
                    <textarea id="edit-comment" name="comment" required></textarea>
                </div>
                <div class="modal-buttons">
                    <button type="button" onclick="confirmDeleteInModal()">삭제</button>
                    <button type="submit">수정</button>
                </div>
            </form>
        </div>
    </div>

	<script th:src="@{/js/comments.js}"></script>
	<script th:src="@{/js/nickname.js}"></script>
</body>
</html>
